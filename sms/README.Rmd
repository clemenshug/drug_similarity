---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# Small Molecule Suite compound similarity

R package for computing chemical, target (TAS) and phenotypic similarities
between compounds.

## Installation

The dependencies `synapser` and `morgancpp` might need to be installed
manually from https://github.com/Sage-Bionetworks/synapser and
https://github.com/labsyspharm/morgancpp.

```{r installation, echo=TRUE, eval=FALSE}
if(!require(devtools)) install.packages("devtools")
devtools::install_github("indralab/drug_similarity", subdir = "sms")
```

## Examples

If this is the first time running the package, the data must be downloaded in
the working directory first. They can either be downloaded manually from the
[Synapse repository](https://www.synapse.org/#!Synapse:syn25955270) to the working
directory or by using the `sms_download()` function.

Synapse login credentials must be saved using `synapser::synLogin(..., rememberMe = TRUE)`.

```{r load}
library(tidyverse)
library(drug.similarity)
sms_download()
```

Once the data are downloaded we can query compound similarities. If only a single
vector of compound names are provided, these compounds are compared to all
other compounds in the data set.

Running these functions for the first time might take a while, because the data
have to be loaded into memory first.

Here we show the first 10 lines of the result data frames.

```{r tas}
sms_tas_similarity(c("ruxolitinib", "tofacitinib"), show_compound_names = TRUE) %>%
  head(n = 10)
```

```{r chemical}
sms_chemical_similarity(c("ruxolitinib", "tofacitinib"), show_compound_names = TRUE) %>%
  head(n = 10)
```

```{r phenotypic}
sms_phenotypic_similarity(c("ruxolitinib", "tofacitinib"), show_compound_names = TRUE) %>%
  head(n = 10)
```
